---
layout: article
title: On Generative Algorithms&#58; Differential Line
description: Differential Line is a generative algorithm inspired by differential growth in nature.
datePublished: 2015-11-01
dateModified: 2016-09-01
headerImage: /img/generative/differential-3k-small.png
---

<div class="text">

  <h1 class="fade">{{ site.generative-title }}</h1>

  <h2>Differential Line
    <a class="ghlink"
      href="https://github.com/inconvergent/differential-line">Github</a>
  </h2>

  <p>Differential is an algorithm that I had been wanting to make for a long
    time.  Eventually the solution just came to me, and I managed to get it
    working. What I wanted to do was create a system that behaved similarly to
    surfaces in nature that fold in on themselves.  For instance the way walnuts
    do, as well as the layers of cabbage, (I won't go into how much time I've spent
    googling images of red cabbages split in half), our intestines and several
    leaves and flower petals. And probably several other things.</p>

  <p>First I tried using a method that was based on the <a
      href="https://en.wikipedia.org/wiki/Koch_snowflake">Koch Snowflake</a>
    fractal. But with randomized growth instead of symmetric and regular as in
    the fractal. I never got this working, and I quickly gave up. Some time later
    (six months give or take), however, I realized that I could introduce new
    nodes, as when the Koch Snowflake "grows", but I had to have the nodes move
    relative to each other as well. That way they could adjust their positions
    dynamically.  Somewhat like pearls on a string. That way they can keep a
    comfortable distance to other nodes (pearls).</p>


  <p>The algorithm goes like this: First we start with a set of connected nodes
    in some shape (circles or lines are good). Then we randomly introduce new
    nodes between pairs of existing nodes. In every iteration the nodes will try
    to optimize their positions. They want to be close, but not too close, to
    their two neighbors. At the same time they want to be as far away as possible
    from all other nodes within a certain distance. Note that there is no actual
    collision detection involved here.</p>

<div class="text-img" itemscope itemtype="http://schema.org/VisualArtwork">
  <meta itemprop="name" content="differential line ani"/>
  <meta itemprop="artMedium" content="digital"/>
  <meta itemprop="artForm" content="generative"/>
  <div itemprop="creator" itemscope itemtype="http://schema.org/Person"/>
    <meta itemprop="name" content="Anders Hoff"/>
    <meta itemprop="sameAs" content="http://inconvergent.net"/>
  </div>
    <img itemprop="image" src="/img/generative/differential-line3-uniform.gif"
    alt="differential line ani" title="differential line uniform configuration"
    />
  </div>

  <p>There are a number of factors that will affect the behaviour of this system.
    One is how frequently we introduce new nodes. Another is the maximum distance
    within which nodes will avoid each other. And the most interesting one (in my
    opinion) is how we choose where to insert new nodes. We can do it uniformly,
    as in the animation above, or we can prioritize places where the curve bends
    more sharply, as below.</p>

</div>

<div class="text-img" itemscope itemtype="http://schema.org/VisualArtwork">
  <meta itemprop="name" content="differential line curvature configuration"/>
  <meta itemprop="artMedium" content="digital"/>
  <meta itemprop="artForm" content="generative"/>
  <div itemprop="creator" itemscope itemtype="http://schema.org/Person"/>
    <meta itemprop="name" content="Anders Hoff"/>
    <meta itemprop="sameAs" content="http://inconvergent.net"/>
  </div>
  <img itemprop="image" src="/img/generative/differential-line2.gif"
  alt="differential line curvature configuration" title="differential line
  curvature configuration" />
</div>

<div class="text">

  <p>The difference is not entirely easy to pinpoint in these animations, but it
    gets very noticeable on large simulations. The image below uses the curvature
    based insertion method and took about 40 hours to complete.</p>

</div>

<div class="text-img" itemscope itemtype="http://schema.org/VisualArtwork">
  <meta itemprop="name" content="differential line"/>
  <meta itemprop="artMedium" content="digital"/>
  <meta itemprop="artForm" content="generative"/>
  <div itemprop="creator" itemscope itemtype="http://schema.org/Person"/>
    <meta itemprop="name" content="Anders Hoff"/>
    <meta itemprop="sameAs" content="http://inconvergent.net"/>
  </div>
  <img itemprop="image" src="/img/generative/differential-3k-small.png"
  alt="differential line" title="differential line" />
</div>

<div class="text">

  <p>Another way of getting interesting results from this system is by painting
    the position of the curve for each step in time. The visual and textural
    results are dramatically different, but it is easy to recognize the same
    characteristics.</p>

</div>

<div class="text-img" itemscope itemtype="http://schema.org/VisualArtwork">
  <meta itemprop="name" content="differential line ani"/>
  <meta itemprop="artMedium" content="digital"/>
  <meta itemprop="artForm" content="generative"/>
  <div itemprop="creator" itemscope itemtype="http://schema.org/Person"/>
    <meta itemprop="name" content="Anders Hoff"/>
    <meta itemprop="sameAs" content="http://inconvergent.net"/>
  </div>
  <img itemprop="image" src="/img/generative/differential-line4-paint.gif"
  alt="differential line ani" title="differential line paint" />
</div>

<div class="text-img">

  <img src="/img/generative/differential-line5-paint.gif" alt="differential
  line ani" title="differential line paint" />

</div>

<div class="text">

  <a class="prev" href="../linetrace">Linetrace</a>
  <a class="next" href="../differential-mesh">Differential Mesh</a>

</div>

